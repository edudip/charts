---
name: "generate README file"
on:
  pull_request_target:
    types:
      - opened
      - reopened
      - labeled
      - synchronize
    branches:
      - main
jobs:
  run-npm-script:
    name: "run-npm-script"
    if: ${{ github.event.pull_request.state != 'closed' }}
    runs-on: self-hosted
    steps:
      - run: echo "Checkout branch"
      - name: "checkout project code"
        uses: actions/checkout@main
      - name: "checkout additional code"
        uses: actions/checkout@main
        with:
          repostiory:  bitnami-labs/readme-generator-for-helm
          fetch-depth: 1
      - run: npm install ./readme-generator-for-helm
      - run: npx readme-generator-for-helm -v values.yaml -r README.md
