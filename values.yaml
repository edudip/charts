---
## @section "Common parameters"
##

## Docker parameters to controle the image
## @param image.repository [string] Repository url or name
## @param image.pullpolicy [string] [pullPilicy](ref: https://kubernetes.io/docs/user-guide/images/#pre-pulling-images): can 'IfNotPresent' or 'Always'
## @param image.tag [string] Overrides the image tag whose default is the chart appVersion
## @param image.digist [string] Sha256 value of the image. Note: if set, it will override the tag parameter
## 
image:
  repository: vaultwarden/server
  pullPolicy: IfNotPresent
  tag: "1.25.2"
  digist: "" #//todo::"look up how to"!

## @param securityContext
##
securityContext: {}
##  capabilities:
##    drop:
##    - ALL
##  readOnlyRootFilesystem: true
##  runAsNonRoot: true
##  runAsUser: 1000
##

## @param resources [map] Defaults for the resources used by the application
## We usually recommend not to specify default resources and to leave this as a conscious
## choice for the user. This also increases chances charts run on environments with little
## resources, such as Minikube. If you do want to specify resources, uncomment the following
## lines, adjust them as necessary, and remove the curly braces after 'resources:'.
##
resources: {}
##  limits:
##    cpu: 100m
##    memory: 128Mi
##  requests:
##    cpu: 100m
##    memory: 128Mi

## [Kubernetes autoscaling](https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/) 
## @param autoscaling.enabled Enable horizontal POD autoscaling
## @param autoscaling.minReplicas Minimum number of replicas
## @param autoscaling.maxReplicas Maximum number of replicas
## @param autoscaling.targetCPU Target CPU utilization percentage
## @param autoscaling.targetMemory Target Memory utilization percentage
##
autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 100
  targetCPUUtilizationPercentage: 80
  ## targetMemoryUtilizationPercentage: 80

## @param replicaCount Number of replicas to deploy
##
replicaCount: 1

## @param serviceAccount.create Specifies whether a service account should be created
## @param serviceAccount.annotations [object] Annotations to add to the service account
## @param serviceAccount.name [string] The name of the service account to use
## Note: If `serviceAccount.name` not set and `serviceAccount.create` is 'true', a name is generated using the fullname template
##
serviceAccount:
  create: true
  annotations: {}
  name: ""

## @section "Traffic related parameters"
## @param ingress.enabled turn on/off ingress of the chart at all
## @param ingress.className [string] Name of the Ingress Class
## @param ingress.annotations [object] Annotations to add to the ingress object
## @param ingress.hosts [array] Array of host objects
## @param ingress.tls [array] Array of TLS configurations
##
ingress:
  enabled: false
  className: ""
  annotations: {}
  ##  kubernetes.io/ingress.class: nginx
  ##  kubernetes.io/tls-acme: "true"
  ##
  hosts:
    - host: chart-example.local
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls: []
  ##  - secretName: chart-example-tls
  ##    hosts:
  ##      - chart-example.local
  ##

service:
  ## @param service.type [string] Kubernetes service type
  ## @param service.ports [array] List of service ports
  ## @param service.clusterIP [string] Service cluster IP
  ## @param service.externalTrafficPolicy [array] Service external traffic policy
  ## @param service.sessionAffinity [string] Service session afffinity
  ## @param service.sessionAffinityConfig [object] Additional settings for the sessionAffinity
  ##
  type: ClusterIP
  port:
    - name: websocket
      protocol: TCP
      targetPort: 3012
      port: 3012
    - name: http
      protocol: TCP
      targetPort: 8080
      port: 80
  clusterIP: ""
  externalTrafficPolicy: []
  sessionAffinity: None 
  sessionAffinityConfig: {}
  ##  clientIP:
  ##    timeoutSeconds: 300
  ##

## @section "Vaultwarden related configuration parameters"
##

## @param domain [string] URL to access Vaultwarden instance
## Note: Can contain subdir like "https:example.com/vaultwarden" and/or also be without default port like "https://vaultwarden.example.com:30443"
## Note: Avoid URL-rewriting tricks whenever possible!
##
domain: "https://vaultwarden.example.com"

## @param dataFolder
##
dataFolder: ""

## @param externalDatabase.type [string] Type of the databas (protocol)
## If set to "-" it will disable generation of external databas link.
## Can be "postgresql", "mysql" or "-"
## @param externalDatabase.username [string] Username of the database user
## @param externalDatabase.password [string] Password of the database
## @param externalDatabase.urn [string] URN of the database server (can be IP or domain)
## @param externalDatabase.port [string] Port of the database server
## @param externalDatabase.name [string] Name of the database
## Note: How to use the PostgreSQL Backend can be found [here](https://github.com/dani-garcia/vaultwarden/wiki/Using-the-PostgreSQL-Backend)  
##
externalDatabase:
  type: "-"
  username: "vaultwarden"
  password: ""
  urn: ""
  port: ""
  name: ""
  existingSecretName: ""

## @param smtp.urn [string] URN of the SMTP server (can be IP or domain)
## @param smtp.security [string] Security option of the SMTP server (can be "starttls", "force_tls", "off")
## Note: The option "force_tls" is the former "SMTP_EXPLICIT_TLS=true" and "starttls" equals "SMTP_SSL=true"
## @param smtp.port [string] Port of the SMTP server
## @param smtp.authMechanism [string] 
## @param smtp.from [string] 
## @param smtp.fromName [string] 
## @param smtp.debug [string] 
## @param smtp.acceptInvalidHostnames
## @param smtp.acceptInvalidCerts
## Note: for detailed information about the SMTP options of Vaultwarden please read the [documentation](https://github.com/dani-garcia/vaultwarden/wiki/SMTP-Configuration#smtp-servers)
##
smtp:
  urn: "smtp.example.com"
  security: "starttls"
  port: "587"
  authMechanism:
  from: "vaultwarden@smtp."
  fromName:
  debug:
  acceptInvalidHostnames: false
  acceptInvalidCerts: false

## @param websocket.
websocket:
  enabled: true
  address: ""
  port: ""



## @skip podAnnotations
##
podAnnotations: {}

## @skip podSecurityContext
##
podSecurityContext: {}
## fsGroup: 2000
##

## @skip imagePullSecrets
##
imagePullSecrets: []

## @skip nameOverride
##
nameOverride: ""

## @skip fullnameOverride
##
fullnameOverride: ""

## @skip nodeSelector
##
nodeSelector: {}

## @skip tolerations
##
tolerations: []

## @skip affinity
##
affinity: {}
